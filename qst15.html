<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Questão 15</title>
</head>
<body>
    <main>
        <section>
            <h1>Resultado da Avaliação</h1>
        </section>
        <p>
            Olá <span id="nome">Fulano</span>, você está matriculado há 
            <span id="anos">2</span> anos no curso de Confeitaria e as notas das suas disciplinas são: 
            <span id="confeitaria">70</span> em Confeitaria Básica; 
            <span id="coberturas">80</span> em Coberturas e 
            <span id="bolos">60</span> em Broas e Bolos.
        </p>
        
        <p id="resultado"></p>
        
        <button id="avaliar">Avaliar</button>
        <button id="limpar">Limpar</button>

        <p id="melhorias"></p>
    </main>

    <script>   
    
        var nome, anos, confeitaria, coberturas, bolos, botaoAvaliar, botaoLimpar, resultado, melhorias, media
        
        //Referencias
        nome = document.getElementById("nome")
        anos = document.getElementById("anos")
        confeitaria = document.getElementById("confeitaria")
        coberturas = document.getElementById("coberturas")
        bolos = document.getElementById("bolos")
        botaoAvaliar = document.getElementById("avaliar")
        botaoLimpar = document.getElementById("limpar")
        resultado = document.getElementById("resultado")
        melhorias = document.getElementById("melhorias")

        //contentEditable 
        nome.contentEditable = true
        anos.contentEditable = true
        confeitaria.contentEditable = true
        coberturas.contentEditable = true
        bolos.contentEditable = true

        //EventListeners
        botaoLimpar.addEventListener("click",limparClick)
        botaoAvaliar.addEventListener("click",avaliarClick)
        
        //Funções
        function limparClick(){
            resultado.textContent = ""
            melhorias.textContent = ""
            
        }

        function avaliarClick(){
            limparClick()

            //Notas
            var nConfeitaria = parseFloat(confeitaria.textContent)
            var nCoberturas = parseFloat(coberturas.textContent)
            var nBolos = parseFloat(bolos.textContent)
            
            media = (nConfeitaria+nCoberturas+nBolos)/3
            
            //Resultado
            if(media>=70) resultado.textContent = "Parabéns "+nome.textContent+"! Você está aprovado com média "+media+"!"
            else resultado.textContent = "Você está reprovado com média "+media+"!"

            //Melhorias
            if(nConfeitaria < 60) melhorias.innerHTML = "<p>"+nome.textContent+", considere estudar mais Confeitaria!</p>"
            if(nCoberturas < 60) melhorias.innerHTML += "<p>"+nome.textContent+", considere estudar mais Coberturas!</p>"
            if(nBolos < 60) melhorias.innerHTML += "<p>"+nome.textContent+", considere estudar mais Broas e Bolos!</p>"
        }

    </script>

</body>
</html>